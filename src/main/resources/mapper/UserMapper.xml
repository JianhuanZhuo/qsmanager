<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.keepfight.qsmanager.Mapper.UserMapper">
    <!--UserModel selectUserByID(int i) throws Exception;-->
    <select id="selectUserByID" parameterType="int" resultType="UserModel">
        SELECT *
        FROM user
        WHERE id = #{id}
    </select>

    <!--void insert(UserModel user) throws Exception;-->
    <insert id="insert" parameterType="UserModel">
        INSERT INTO user(utype,acc,psw,relateid)
        VALUES(#{utype}, #{acc}, #{psw}, #{relateID})
        <selectKey keyProperty="id" order="AFTER" resultType="long">
            SELECT last_insert_rowid();
        </selectKey>
    </insert>


    <!--void delete(UserModel user) throws Exception;-->
    <delete id="delete" parameterType="UserModel">
        DELETE FROM user
        WHERE id = #{id}
    </delete>

    <!--oid update(UserModel user) throws Exception;-->
    <update id="update" parameterType="UserModel">
        UPDATE user SET
        utype = #{utype},
        acc = #{acc},
        psw = #{psw},
        relateid = #{relateid}
        WHERE id = #{id}
    </update>
</mapper>